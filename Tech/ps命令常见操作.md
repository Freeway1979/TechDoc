在 macOS 中，`ps` 命令用于查看系统当前运行的进程状态，以下是一些常见操作和实用示例：


### **1. 基础用法：查看当前终端进程**
```bash
ps
```
- 显示当前终端中运行的进程（简洁信息：进程 ID、终端、CPU 时间、命令名）。


### **2. 查看系统所有进程**
```bash
ps aux
```
- **参数说明**：
  - `a`：显示所有用户的进程（不仅当前终端）。
  - `u`：以用户为中心的详细信息（用户名、CPU/内存占用等）。
  - `x`：包括不关联终端的进程（如后台服务）。
- 输出包含：用户、PID（进程 ID）、CPU 使用率、内存使用率、启动时间、命令路径等。


### **3. 按名称/关键词查找进程**
结合 `grep` 过滤特定进程（如查找 Chrome 相关进程）：
```bash
ps aux | grep "Chrome"
# 或忽略大小写
ps aux | grep -i "chrome"
```
- 注意：结果中会包含 `grep` 自身的进程，可通过 `grep -v grep` 排除：
  ```bash
  ps aux | grep "Chrome" | grep -v grep
  ```


### **4. 按 PID 查找进程**
已知进程 ID（如 `1234`），查看其详细信息：
```bash
ps -p 1234
# 更详细信息
ps -l -p 1234
```


### **5. 按用户筛选进程**
查看指定用户（如 `root` 或当前用户）的所有进程：
```bash
# 查看 root 用户进程
ps -u root

# 查看当前用户进程（省略用户名则默认当前用户）
ps -u
```


### **6. 显示进程层级关系（树状结构）**
```bash
ps -axjf
# 或使用 pstree（需先安装：brew install pstree）
pstree
```
- 直观展示进程间的父子关系（如某个应用启动的子进程）。


### **7. 排序进程（按 CPU/内存占用）**
```bash
# 按 CPU 使用率从高到低排序（取前 10）
ps aux --sort=-%cpu | head -n 10

# 按内存使用率从高到低排序（取前 10）
ps aux --sort=-%mem | head -n 10
```
- 快速定位资源消耗高的进程。


### **8. 显示进程完整命令（包括参数）**
默认 `ps` 可能截断长命令，用 `-ww` 显示完整内容：
```bash
ps auxww | grep "python"
```


### **9. 杀死进程（结合 kill 命令）**
找到进程 PID 后，终止进程：
```bash
# 正常终止（发送 SIGTERM 信号）
kill 1234

# 强制终止（发送 SIGKILL 信号，慎用）
kill -9 1234
```
- 可结合 `grep` 一键杀死相关进程（如关闭所有 Node 进程）：
  ```bash
  kill $(ps aux | grep "node" | grep -v grep | awk '{print $2}')
  ```


### **常用参数速查表**
| 参数 | 说明 |
|------|------|
| `a` | 显示所有用户的进程 |
| `u` | 显示用户相关信息（CPU/内存等） |
| `x` | 包括无终端的进程 |
| `e` | 等同于 `a`（显示所有进程） |
| `f` | 显示完整格式（包含父进程 ID 等） |
| `l` | 长格式输出 |
| `p <PID>` | 查看指定 PID 的进程 |
| `u <user>` | 查看指定用户的进程 |
| `--sort=<key>` | 按指定字段排序（如 `-%cpu` 倒序 CPU） |


通过这些操作，可以高效地监控和管理 macOS 系统中的进程，排查资源占用过高或异常的程序。